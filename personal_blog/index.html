
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>
个人博客开发－笔记 | Xtt's Blog
</title>
  <link rel="stylesheet" href="http://cdn.amazeui.org/amazeui/2.4.2/css/amazeui.min.css">
  <link rel="stylesheet" href="http://xuting.me/static/css/style.css?v=b281f0b0e1e87644ea2fd9f21d40f1b3" type="text/css" />
  <link rel="stylesheet" href="http://xuting.me/static/css/pygments_style.css?v=f52807bdba7d67ebabc3ce287f67bf67" type="text/css" />

  <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?7a7d4c2736963f63925bf3b3091085c4";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
  </script>

</head>

<body>
  <div class="wrapper">
    <!-- header-->
    <header class="header-wrapper">
      <div class="header-container">
        <nav>
          <ul class="header-nav">
            <li><a href="http://xuting.me/"><span class="am-icon-sm am-icon-home" id="nav-icon"></span>Home</a></li>
            <!--<li><a href="http://xuting.me/Board/"><span class="am-icon-sm am-icon-heart" id="nav-icon"></span>Board</a></li>-->
            <li><a href="http://xuting.me/archive/index.html"><span class="am-icon-sm am-icon-archive" id="nav-icon"></span>Archives</a></li>
            <li><a href="http://xuting.me/AboutMe/"><span class="am-icon-sm am-icon-user-secret" id="nav-icon"></span>AboutMe</a></li>
          </ul>
        </nav>
      </div>
    </header>
    <!-- header -->

    <!-- conetent -->
    <div class="content-wrapper">
      <div class="am-g am-g-fixed blog-g-fixed">
        <div class="am-u-md-9">
        
<article class="post-main" id="post-font">
  <header class="blog-header">
    <span class="round-date">
      <span class="month">04月</span>
      <span class="day">27</span>
    </span>
    <p class="blog-title">个人博客开发－笔记</p>
    <p class="blog-meta">
      <i class="am-icon-calendar"></i> Published at Apr 27, 2016 • 
      <!--<i class="am-icon-binoculars"></i> 87 次围观 • -->
      <!--<i class="am-icon-bookmark"></i> 0条评论-->
      
        <a class="am-badge am-badge-primary am-radius" href="http://xuting.me/tag/django/">django</a>
      
    </p>

  </header>
  <section class="blog-content">
    <blockquote>
<p>本文只是总结和概括部分开发一个基于django的个人博客的相关内容，并没有详细解释，仅供日后查阅和复习。  </p>
</blockquote>

<h3>一、总览</h3>

<h4>1. 需要完成的任务</h4>

<ul>
<li>建立一个开发环境 - 包括如何使用终端,安装Pip,如何使用Git等等.<br/></li>
<li>建立一个Django项目,创立一个基本的Django应用.<br/></li>
<li>为Django项目设立静态文件和其他文件<br/></li>
<li>使用Django的Model-View-Template(MVT)设计模式<br/></li>
<li>创建数据库模型,用Django提供的对象关系绑定功能<br/></li>
<li>利用数据库模型生成的数据来创建动态生成页面<br/></li>
<li>使用Django提供的用户认证服务<br/></li>
<li>整合应用的外部服务<br/></li>
<li>一个web应用所包括的CSS和JavaScript<br/></li>
<li>设计和应用CSS来增加web应用的界面交互<br/></li>
<li>使用Django的cookies和sessions<br/></li>
<li>在应用中使用像AJAX这样的高级功能<br/></li>
<li>用PythonAnywhere部署你的应用到web服务器<br/></li>
</ul>

<h4>2. n层结构</h4>

<p>大多数web应用的结构是3-层结构.<br/>
如果我们用Django来创建web应用的话,我们每层需要如下技术.  </p>

<blockquote>
<p>(1) client是一个浏览器(i.e. Chrome, Firefox, Safari等等),它将返回 HTML/CSS页面.<br><br/>
(2) middleware是一个Django应用,它会贯穿开发Django内建web服务的始终.<br><br/>
(3) database;search API<br>  </p>
</blockquote>

<h4>3.页面和url映射</h4>

<h4>4.实体关系图</h4>

<h3>二、开发准备</h3>

<p>1.安装python<br><br/>
2.安装django<br><br/>
3.安装git<br><br/>
4.搭建虚拟环境<sbr>  </p>

<h3>三、django基础</h3>

<h4>1.测试django是否安装成功</h4>

<h4>2.创建django项目：</h4>

<blockquote>
<p>python django-admin.py startproject <name>来创建项目,这里<name>是你希望的项目名.  </p>
</blockquote>

<h4>3.创建django应用：</h4>

<blockquote>
<ol>
<li>$ python manage.py startapp <appname>来创建新的应用,这里<appname>是你的应用名.通过把新应用名字加入到settings.py文件的INSTALLED_APPS元组里来告诉Django项目添加了新的应用.<br/></li>
<li>在项目的urls.py文件映射应用.<br/></li>
<li>在应用目录里创建urls.py文件使URL字符串指向视图.<br/></li>
<li>在应用的view.py里,创建的视图要确保返回一个HttpResponse对象.<br/></li>
</ol>
</blockquote>

<h4>4.创建视图</h4>

<blockquote>
<p>配置view.py  </p>
</blockquote>

<h4>5.URL映射</h4>

<blockquote>
<p>给每一个应用配置urls.py文件，然后汇总到根目录下的urls.py文件  </p>
</blockquote>

<h3>四、模版与静态媒体的基本流程</h3>

<ol>
<li>首先,创建你希望使用的模板并把它保存在templates目录里,这个目录需要你写入settings.py文件.你可以在模板里使用Django模板变量(例如{{ bariable_name }}).你可以在视图里更换这些变量.<br/></li>
<li>在应用的views.py文件里查找或者创建一个新的视图.<br/></li>
<li>增加视图逻辑.例如你可以从数据库里获得数据.<br/></li>
<li>在视图里,创建一个字典对象可以吧模板内容传递给模板引擎.<br/></li>
<li>使用render()函数来生成返回.确保引用request,然后是模板文件,最后是内容字典!<br/></li>
<li>如果你还没有修改urls.py文件或者应用中的urls.py中的映射,你需要修改一下.<br/></li>
<li>在页面上获取一个静态媒体文件.<br/></li>
<li>把你要添加的静态文件放入static目录.这个目录是你在settings.py中设置的STATICFILES_DIRS元组.<br/></li>
<li>在模板中添加静态媒体引用.例如一个HTML网页的图片用<img />标签.<br/></li>
<li>记得用{% load staticfiles %}和{% static &ldquo;filename&rdquo; %}命令在模板中设置静态文件.<br/></li>
</ol>

<h3>五、模型与数据库</h3>

<h5>1. 确定需求</h5>

<h5>2. 设置数据库</h5>

<blockquote>
<p>当开始新Django项目,需要先告诉Django你想使用的数据库(例如设置settings.py中的DATABASES).你也可以在admin.py文件里注册任何模型.  </p>
</blockquote>

<h5>3. 加入模型</h5>

<blockquote>
<p>(1) 首先,在你的应用里的models.py文件里创建新的模型.<br/><br/>
(2) 修改admin.py注册你新加的模块.<br/><br/>
    (3) 然后进行迁移$ python manage.py sqlmigrate <app_name><br/><br/>
    (4) 使用$ python manage.py migrate应用更改.这将会为你的模型在数据库里建立必要的结构.<br/><br/>
    (5) 为你的新模型创建/修改population script.<br/></p>
</blockquote>

  </section>
  
    
        
        
            <div class="ds-thread"></div>
            <script type="text/javascript">
                var duoshuoQuery = {short_name:"evaxtt"};
                (function() {
                    var ds = document.createElement('script');
                    ds.type = 'text/javascript';
                    ds.async = true;
                    ds.src = 'http://static.duoshuo.com/embed.js';
                    ds.charset = 'UTF-8';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
                })();
            </script>
        
    

</article>

        </div>

        <div class="sidebar">
          <div class="am-u-md-3">
            <!-- about me -->
            <div class="panel about-me">
              <div class="about-me-bg"></div>
              <div class="about-me-content">
                <a href="http://xuting.me"><img class="avatar" src="http://7xpt78.com1.z0.glb.clouddn.com/tt.jpg"></img></a>
                <h5 class="about-me-name"><a href="http://xuting.me/AboutMe/"> Evaxtt </a></h5>
                <p class="about-me-words">9岁技术媛</p>
                <ul class="about-me-ul">
                  <li class="about-me-li">
                    <a class="about-me-li-content" href="http://xuting.me/archive/index.html">
                      日志
                      <h5 class="about-me-li-h5">10</h5>
                    </a>
                  </li>
                  <li class="about-me-li">
                    <a class="about-me-li-content" href="http://xuting.me/tag/index.html">
                      标签
                      <h5 class="about-me-li-h5">7</h5>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
            <!-- about me -->
            <!-- contact-me -->
            <div class="contact-me panel-two">
              <h3 class="panel-title">Follow Me</h5>
              <div class="contact-me-icons">
                <a href="https://github.com/Evaxtt" title="Github: Evaxtt" target="_blank"><i class="am-icon-github am-icon-md"></i></a>
                <!--<a href="https://twitter.com/Eva_studying" title="Twitter: xuting.me" target="_blank"><i class="am-icon-twitter am-icon-md"></i></a>-->
                <a href="http://weibo.com/u/2946291917?topnav=1&wvr=6&topsug=1&is_all=1" title="Weibo: 一只水饺" target="_blank"><i class="am-icon-weibo am-icon-md"></i></a>
                <a href="https://www.zhihu.com/people/xu-ting-ting-62-33" title="zhihu" target="_blank"><i class="am-icon-share-alt am-icon-md"></i></a>
                <!--<a href="douban" title="豆瓣" target="_blank"><i class="am-icon-globe am-icon-md"></i></a>-->
                </a> 
              </div>
            </div>
            <!-- contact-me-->
            <!-- email-me -->
            <div class="panel-two">
              <h3 class="panel-title">Contact Me</h5>
              <img src="http://7xpt78.com1.z0.glb.clouddn.com/mail%E5%89%AF%E6%9C%AC.png">
              <!--<img src="http://7xpt78.com1.z0.glb.clouddn.com/youxiang.gif">-->
            </div>
            <!-- email-me-->
            <!-- recently -->
            <div class="shuoshuo panel-two">
              <h5 class="panel-title">博主说说</h5>
              <div class="shuoshuo-content">
                心之所向，素履以往。<br>
                徐小婷没有玻璃心，加油Y(^_^)Y
              </div>
            </div>
            <!-- recently -->
            <!-- Linux Cn -->
            <div class="about-copyright panel-two">
            ©Powered by<a href="https://github.com/whtsky/Catsup"> Catsup</a>and<a href="https://http://pages.github.com/"> Github Pages </a>
            </div> 
          </div>
        </div>
      </div>
    </div>
    <!-- conetent -->
  </div>
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"kennethyo"};
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
         || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
    </script>
<!-- 多说公共JS代码 end -->
</body>
</html>